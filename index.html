---
layout: page
title: 我的测试网站
description: "444444"
---

<div class="description">
    <p>这是一个展示 44444文件夹下图片的网站。</p>
</div>

{% assign image_folder = "/qsewr/dasf/erwq/reeqr/rwer/ewqr/tttt" %}
{% assign image_files = site.static_files | where_exp: "item", "item.path contains image_folder" | where_exp: "item", "item.extname == '.png'" %}
{% assign sorted_images = image_files | sort: "basename" %}
{% assign total_images = sorted_images | size %}

<!-- 计算当前页码 -->
{% if page.url == "/" or page.url == "/index.html" %}
    {% assign current_page = 1 %}
{% else %}
    {% assign current_page = page.url | split: "/" | last | replace: "page", "" | plus: 0 %}
    {% if current_page == 0 %}
        {% assign current_page = 1 %}
    {% endif %}
{% endif %}
{% assign offset = current_page | minus: 1 %}

<!-- 顶部导航 -->
<div class="pagination top-pagination">
    {% if current_page > 1 %}
        {% if current_page == 2 %}
            <a href="/" class="previous">上一页</a>
        {% else %}
            <a href="/page{{ current_page | minus: 1 }}/" class="previous">上一页</a>
        {% endif %}
    {% else %}
        <span class="previous disabled">上一页</span>
    {% endif %}
    <span class="page-number">第 {{ current_page }} 页，共 {{ total_images }} 页</span>
    {% if current_page < total_images %}
        <a href="/page{{ current_page | plus: 1 }}/" class="next">下一页</a>
    {% else %}
        <span class="next disabled">下一页</span>
    {% endif %}
</div>

<!-- 图片展示 -->
<div class="image-gallery">
    {% assign current_image = sorted_images | slice: offset, 1 | first %}
    {% if current_image %}
        <div class="image-item">
            <img src="{{ current_image.path | relative_url }}" alt="{{ current_image.basename | remove: '.png' }}">
            <p>{{ current_image.basename | remove: '.png' }}</p>
        </div>
    {% else %}
        <p>抱歉，暂无图片可显示。</p>
    {% endif %}
</div>

<!-- 底部导航 -->
<div class="pagination bottom-pagination">
    {% if current_page > 1 %}
        {% if current_page == 2 %}
            <a href="/" class="previous">上一页</a>
        {% else %}
            <a href="/page{{ current_page | minus: 1 }}/" class="previous">上一页</a>
        {% endif %}
    {% else %}
        <span class="previous disabled">上一页</span>
    {% endif %}
    <span class="page-number">第 {{ current_page }} 页，共 {{ total_images }} 页</span>
    {% if current_page < total_images %}
        <a href="/page{{ current_page | plus: 1 }}/" class="next">下一页</a>
    {% else %}
        <span class="next disabled">下一页</span>
    {% endif %}
</div>

<!-- 调试信息（可选，部署后可移除） -->
<p>调试：共找到 {{ total_images }} 张图片</p>
<ul>
    {% for image in sorted_images %}
        <li>{{ image.path }}</li>
    {% endfor %}
</ul>

<style>
    .description {
        text-align: center;
        margin: 20px 0;
    }
    .image-gallery {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
    }
    .image-item {
        text-align: center;
        max-width: 600px;
    }
    .image-item img {
        max-width: 100%;
        height: auto;
        border: 1px solid #ddd;
    }
    .image-item p {
        margin: 5px 0;
        font-size: 16px;
    }
    .pagination {
        text-align: center;
        margin: 20px 0;
    }
    .pagination a, .pagination span {
        margin: 0 10px;
        font-size: 14px;
    }
    .pagination a {
        color: #007bff;
        text-decoration: none;
    }
    .pagination a:hover {
        text-decoration: underline;
    }
    .pagination .disabled {
        color: #999;
    }
    .top-pagination {
        margin-bottom: 30px;
    }
    .bottom-pagination {
        margin-top: 30px;
    }
</style>
