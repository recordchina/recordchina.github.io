<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta name="google-site-verification" content="ltiewQmP5EmisztZEr-0dG6Z7lxyIt_iri-Otr1gkMA" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>1989年6月4日 八九六四 台湾独立 | 记录历史 传播真相 中国 北京 天安门 大屠杀</title>
    <meta name="description" content="TIAN AN MEN 天安门 八九六四 台湾独立。这是一个流动的纪念碑，真实记录了1989年民主运动及个体命运的挣扎。">
    <meta name="keywords" content="天安门,八九六四,1989,19890606,1989年6月4日,台湾独立,民主运动,大屠杀,六四运动,历史真相" />
    
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://8964.freeddns.org/" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. 全局布局修正 (App Shell模式) --- */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; /* 禁止 body 滚动，只允许 main 滚动 */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #575f4f;
            color: #f1e8dd;
            display: flex;
            flex-direction: column; /* 垂直排列：头 - 内容 - 尾 */
        }

        /* --- 2. 头部和尾部 (固定不动) --- */
        .header-mobile {
            flex: 0 0 auto; /* 禁止缩放 */
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background-color: #575f4f;
            z-index: 100;
        }

        .footer {
            flex: 0 0 auto; /* 禁止缩放 */
            padding: 15px;
            color: #fff;
            background-color: rgba(0,0,0,0.2);
            z-index: 100;
        }

        /* --- 3. 中间主要内容区 (可滚动) --- */
        .main {
            flex: 1; /* 自动占据剩余空间 */
            overflow-y: auto; /* 核心：垂直方向内容多了就滚动 */
            overflow-x: hidden; /* 核心：禁止水平滚动条 */
            padding: 20px 0;
            width: 100%;
            position: relative;
        }

        /* --- 4. 关键修正：防止侧边栏和内容被压缩 --- */
        /* 重写 Bootstrap 的 row 行为，防止 flex 冲突 */
        .main .container-fluid {
            max-width: 1400px; /* 限制最大宽度，防止在大屏太散 */
        }
        
        .main .row {
            flex-wrap: nowrap; /*在大屏下禁止换行，保持左右结构 */
        }

        /* 左侧栏：强制宽度，防止被压扁 */
        .left-column {
            width: 280px !important; /* 固定宽度 */
            min-width: 280px !important; /* 锁死最小宽度 */
            flex: 0 0 280px !important; /* Flex 简写：不放大、不缩小、基准280px */
            padding-right: 20px;
            margin-bottom: 20px;
            /* 如果你希望侧边栏内容太多时不要把整个页面撑得太长，可以去掉下面的注释开启侧边栏独立滚动 */
            /* max-height: 100%; overflow-y: auto; */
        }

        /* 中间内容区：自适应，但给个底线 */
        .content {
            flex: 1 1 auto; /* 占据剩余宽度 */
            min-width: 300px; /* 防止被压得太小 */
            display: flex;
            flex-direction: column;
        }

        /* 右侧留白区 (原 col-md-3) */
        .right-spacer {
            flex: 1;
            max-width: 300px;
            display: none; /* 小屏隐藏 */
        }
        @media (min-width: 992px) {
            .right-spacer { display: block; }
        }

        /* --- 5. 元素样式细节 --- */
        .title h2 {
            font-size: 2em;
            font-weight: 900;
            margin: 0 0 10px 0;
        }

        .intro p {
            font-size: 1.1em;
            line-height: 1.65em;
            margin-bottom: 10px;
        }

        .cate ul {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: center;
        }
        .cate ul li a {
            color: #ff6b6b;
            text-decoration: none;
            padding: 5px 10px;
            display: block;
            font-size: 1.5em;
            font-weight: 500;
        }
        .cate ul li a:hover, .cate ul li a.active {
            color: #facc29;
        }

        .content img {
            width: 100%;
            height: auto;
            max-height: 507px;
            object-fit: cover; /* 保证图片填充且不变形 */
            display: block;
            margin-bottom: 15px;
            border: 2px solid #f1e8dd;
            cursor: pointer;
        }

        /* 记忆文本样式 */
        .memory-text {
            text-align: left;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(241, 232, 221, 0.2);
            border-radius: 5px;
        }
        .memory-text p {
            color: #facc29;
            font-size: 1.2em;
            font-weight: 500;
            margin: 5px 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        /* 分页样式 */
        .pagination {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 5px;
        }
        .pagination button, .pagination input {
            background-color: #f1e8dd;
            color: #575f4f;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .pagination button.active {
            background-color: #facc29;
        }

        /* 底部友情链接 */
        .bottom-links {
            margin-top: 40px;
            border-top: 1px solid rgba(241, 232, 221, 0.3);
            padding-top: 20px;
            text-align: center;
            padding-bottom: 20px;
        }
        .bottom-links h5 {
            color: #facc29;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .bottom-links ul {
            list-style: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }
        .bottom-links ul li a {
            color: #f1e8dd;
            text-decoration: none;
            font-size: 0.9em;
        }
        .bottom-links ul li a:hover {
            color: #ff6b6b;
            text-decoration: underline;
        }

        /* --- 6. 响应式适配 (手机端) --- */
        @media (max-width: 991px) {
            .main .row {
                flex-wrap: wrap; /* 手机上恢复换行 */
            }
            .left-column {
                width: 100% !important; /* 手机上占满宽 */
                flex: none !important;
                margin-bottom: 20px;
                text-align: center; /* 手机上文字居中好看点 */
            }
            .cate ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            .content img {
                max-height: 300px;
            }
            .footer .container-fluid {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <header class="header-mobile d-lg-none">
        <div class="logo">
            <a href="/" style="color: #f1e8dd; text-decoration: none; font-weight: bold;">Record China</a>
        </div>
        <div class="menu">
            <button class="btn" style="color: #f1e8dd;">?</button>
        </div>
    </header>

    <main class="main">
        <div class="container-fluid">
            <div class="row">
                <div class="left-column">
                    <div class="title">
                        <div class="inner">
                            <h2>记录历史 传播真相</h2>
                        </div>
                    </div>
                    <div class="intro">
                        <div class="inner">
                            <p>这是一个流动的纪念碑，碑身上交错刻下三条时间线：</p>
                            <p>主线：详细讲述1989年4月至6月发生在中国的一场规模浩大的民主抗争运动。</p>
                            <p>背景线：八九天安门运动以及改变国际政治格局的苏东剧变，真实记录了当代全球民主自由抗争史。</p>
                            <p>生命线：被大历史裹挟的个体命运的挣扎，从未因时光流逝而消散。</p>
                            <p>请点击以下年份浏览具体事件信息：<br>浏览大图时可用键盘左右箭头切换</p>
                        </div>
                    </div>
                    <div class="cate">
                        <div class="inner">
                            <ul id="year-list"></ul>
                        </div>
                    </div>
                    <div class="cate manifesto-link" style="margin-top:20px; border-top:1px solid rgba(241,232,221,0.3); padding-top:10px;">
                        <div class="inner">
                            <ul>
                                <li><a href="qsewr/dasf/erwq/erre/sptw.html">最后的灯塔</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="content">
                    <div class="memory-text">
                        <p>光之记忆，历史永存 | Memory in Light, History Endures</p>
                        <p>自由之光，照亮历史 | Light of Freedom, Illuminates History</p>
                        <p>记忆不灭，历史不泯 | Memory Never Fades, History Never Dies</p>
                        <p>燃起希望，争取自由 | Ignite Hope, Fight for Freedom</p>
                        <p>和平永存，自由不熄 | Peace Endures, Freedom Shines</p>
                    </div>
                    <section class="board" id="image-board">
                        <div class="row">
                            </div>
                        <div class="pagination" id="pagination"></div>
                    </section>
                    
                    <div class="bottom-links">
                        <h5>友情链接</h5>
                        <ul>
                            <li><a href="https://chrad.net/" target="_blank">中國人權問責資料庫</a></li>
                            <li><a href="http://www.tiananmenmother.org/" target="_blank">天安门母亲</a></li>
                            <li><a href="http://wqw2010.blogspot.com/" target="_blank">维权网</a></li>
                            <li><a href="http://www.chinesepen.org/" target="_blank">独立中文笔会</a></li>
                            <li><a href="http://www.2008xianzhang.info/" target="_blank">零八宪章信息网</a></li>
                            <li><a href="http://biweekly.hrichina.org/home/" target="_blank">中国人权双周刊</a></li>
                            <li><a href="http://www.msguancha.com/" target="_blank">民生观察</a></li>
                            <li><a href="https://ban-gfw.com/" target="_blank">拆牆運動</a></li>
                            <li><a href="https://chinaspring.org/" target="_blank">中國之春</a></li>
                            <li><a href="https://www.amnesty.org/zh-hans/" target="_blank">国际特赦组织</a></li>
                        </ul>
                    </div>
                </div>

                <div class="right-spacer"></div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">图片预览</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="" id="modalImage" style="width: 100%; height: auto;">
                    <div class="memory-text" style="margin-top:10px;">
                        <p>光之记忆，历史永存 | Memory in Light, History Endures</p>
                        <p>自由之光，照亮历史 | Light of Freedom, Illuminates History</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <div class="footer-left">
                 <a href="/about" class="btn underline" style="color: #ffffff; font-weight: bold;">关于我们</a>
            </div>
            
            <div class="footer-center" style="color: #f1e8dd; opacity: 0.8; font-size: 0.9em;">
                <span id="busuanzi_container_site_pv" style="display:none">
                    历史见证人次: <span id="busuanzi_value_site_pv"></span>
                </span>
                <span style="margin: 0 10px;">|</span>
                <span id="busuanzi_container_site_uv" style="display:none">
                    访客数: <span id="busuanzi_value_site_uv"></span>
                </span>
            </div>

            <div class="footer-right">
                <button class="btn active">中</button>
                <button class="btn">EN</button>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <script>
        // --- 保持原有的 JavaScript 逻辑不变 ---
        const basePath = "qsewr/dasf/erwq/reeqr/rwer/ewqr/tttt/";
        const imageFiles = [
            "29760928.png", "29761201.png", "29771201.png", "29780101-1.png", "29780101-2.png",
            "29780101-3.png", "29780101.png", "29780114.png", "29780213.png", "29780214.png",
            "29780301.png", "29780401.png", "29780402.png", "29780403.png", "29780415.png",
            "29780416.png", "2978041602.png", "2978041603.png", "2978041701.png", "29780418.png",
            "2978041802.png", "2978041901.png", "29780425.png", "29780426.png", "2978042602.png",
            "29780427.png", "2978042702.png", "2978042703.png", "29780428.png", "2978042901.png",
            "2978043001.png", "2978050301.png", "29780504.png", "29780507.png", "29780509.png",
            "29780520.png", "2978052001.png", "29780521.png", "29780522.png", "2978052202.png",
            "29780523.png", "29780525.png", "29780528.png", "2978052802.png", "29780529.png",
            "29780531.png", "2978053102.png", "29780602.png", "2978060202.png", "2978060203.png",
            "2978060301.png", "2978060302.png", "2978060401.png", "2978060402.png", "2978060403.png",
            "2978060404.png", "2978060405.png", "2978060406.png", "2978060407.png", "2978060408.png",
            "2978060409.png", "2978060410.png", "2978060411.png", "2978060412.png", "2978060501.png",
            "2978060502.png", "2978060503.png", "2978060601.png", "2978060602.png", "2978060701.png",
            "2978060702.png", "29780801.png", "29780802.png", "29780803.png", "29780804.png",
            "29780805.png", "29780806.png", "2978080602.png"
        ];
        const yearMap = { "2976": "1986", "2977": "1988", "2978": "1989" };
        const images = {};
        imageFiles.forEach(file => {
            const yearCode = file.slice(0, 4);
            const displayYear = yearMap[yearCode];
            if (!images[displayYear]) images[displayYear] = [];
            images[displayYear].push(`${basePath}${file}`);
        });

        const yearList = document.getElementById('year-list');
        const imageBoard = document.getElementById('image-board').querySelector('.row');
        const pagination = document.getElementById('pagination');
        let currentYear = null;
        let currentPage = 1;
        const imagesPerPage = 2;
        let currentModalIndex = 0;

        Object.keys(images).forEach(year => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + year;
            a.textContent = year;
            a.onclick = (e) => {
                e.preventDefault();
                currentYear = year;
                currentPage = 1;
                showImages(year, currentPage);
            };
            li.appendChild(a);
            yearList.appendChild(li);
        });

        function showImages(year, page) {
            const yearImages = images[year] || [];
            const totalImages = yearImages.length;
            const totalPages = Math.ceil(totalImages / imagesPerPage);
            const startIndex = (page - 1) * imagesPerPage;
            const endIndex = startIndex + imagesPerPage;
            const displayedImages = yearImages.slice(startIndex, endIndex);

            imageBoard.innerHTML = displayedImages.length > 0
                ? displayedImages.map((img, index) => `
                    <div class="col-md-6 mb-3">
                        <img src="${img}" alt="${year} 时间线图片" data-bs-toggle="modal" data-bs-target="#imageModal" onclick="showModal('${img}', ${startIndex + index})">
                    </div>`).join('')
                : '<p>该年份暂无图片。</p>';

            pagination.innerHTML = '';
            if (totalPages > 1) {
                const createBtn = (text, onClick, disabled = false, active = false) => {
                    const btn = document.createElement('button');
                    btn.textContent = text;
                    btn.disabled = disabled;
                    if (active) btn.className = 'active';
                    btn.onclick = onClick;
                    pagination.appendChild(btn);
                };

                createBtn('第一页', () => showImages(year, 1), page === 1);
                createBtn('上一页', () => showImages(year, page - 1), page === 1);

                const startPage = Math.max(1, page - 2);
                const endPage = Math.min(totalPages, page + 2);
                for (let i = startPage; i <= endPage; i++) {
                    createBtn(i, () => showImages(year, i), false, i === page);
                }

                createBtn('下一页', () => showImages(year, page + 1), page === totalPages);
                createBtn('最后一页', () => showImages(year, totalPages), page === totalPages);
            }
            
            document.querySelectorAll('.cate a').forEach(a => a.classList.remove('active'));
            const activeLink = document.querySelector(`.cate a[href="#${year}"]`);
            if(activeLink) activeLink.classList.add('active');
        }

        function showModal(imageSrc, index) {
            const modalImage = document.getElementById('modalImage');
            modalImage.src = imageSrc;
            currentModalIndex = index;
        }

        document.addEventListener('keydown', (event) => {
            if (!currentYear || !document.getElementById('imageModal').classList.contains('show')) return;
            const yearImages = images[currentYear];
            if (!yearImages || yearImages.length === 0) return;
            if (event.key === 'ArrowLeft') {
                currentModalIndex = (currentModalIndex - 1 + yearImages.length) % yearImages.length;
                showModal(yearImages[currentModalIndex], currentModalIndex);
            } else if (event.key === 'ArrowRight') {
                currentModalIndex = (currentModalIndex + 1) % yearImages.length;
                showModal(yearImages[currentModalIndex], currentModalIndex);
            }
        });

        if (Object.keys(images).length > 0) {
            currentYear = Object.keys(images)[0];
            showImages(currentYear, 1);
        }
    </script>
</body>
</html>
